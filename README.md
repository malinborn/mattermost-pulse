# Mattermost Reactions Exporter

Утилита для экспорта реакций из постов Mattermost в YAML-формат.

## Требования

- Python 3.8+
- Зависимости из `requirements.txt`

## Установка

```bash
# Создать виртуальное окружение
python -m venv venv

# Активировать окружение
# macOS/Linux:
source venv/bin/activate
# Windows:
# venv\Scripts\activate

# Установить зависимости
pip install -r requirements.txt
```

## Настройка токена доступа (опционально)

Вы можете настроить личный токен Mattermost через переменную среды `MATTERMOST_PERSONAL_TOKEN`, чтобы не вводить его каждый раз в интерфейсе приложения.

### Разовый запуск с токеном

Передайте переменную среды непосредственно при запуске:

```bash
MATTERMOST_PERSONAL_TOKEN="ваш_токен_здесь" streamlit run app.py
```

### Постоянное сохранение токена (MacOS)

Чтобы токен был доступен при каждом запуске терминала, добавьте его в файл `~/.zshrc`:

```bash
# Откройте файл в редакторе
nano ~/.zshrc

# Добавьте в конец файла следующую строку:
export MATTERMOST_PERSONAL_TOKEN="ваш_токен_здесь"

# Сохраните (Ctrl+O, Enter, Ctrl+X) и примените изменения:
source ~/.zshrc
```

После этого токен будет автоматически доступен во всех новых сеансах терминала.

**Примечание:** Для bash используйте файл `~/.bash_profile` или `~/.bashrc` вместо `~/.zshrc`.

## Запуск

```bash
streamlit run app.py
```

Приложение откроется в браузере по адресу `http://localhost:8501`

### Остановка приложения

Чтобы остановить приложение, нажмите `Ctrl+C` в терминале, где оно запущено.

Если приложение зависло:
```bash
pkill -f streamlit
```

## Использование

1. Введите URL сервера Mattermost
2. Введите личный токен доступа (или настройте переменную среды `MATTERMOST_PERSONAL_TOKEN` — см. раздел выше)
3. Укажите URL или ID поста
4. Нажмите кнопку для получения реакций
5. Просмотрите результат в формате JSON
6. Скопируйте нужные данные

## Разработка

Проект находится в разработке. См. `prd_plan.md` для плана разработки.
